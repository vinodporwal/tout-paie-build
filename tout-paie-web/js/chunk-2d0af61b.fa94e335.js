(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af61b"],{"0da2":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{attrs:{header:t.$t("Products")}},[o("b-button",{staticClass:"mr-1 mb-2 mt-xl-n2 pull-right",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button"},on:{click:function(e){t.copyData=!1,t.showLoader=!1,t.clearObjects(),t.$refs.addProductModel.show(),t.setSelectedProduct()}}},[t._v(t._s(t.$t("Add_Product")))]),o("b-table",{attrs:{dark:t.dark,"sort-by":t.sortBy,hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"lg",items:t.gridData,fields:t.captions,"current-page":t.currentPage,"per-page":t.perPage},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e}},scopedSlots:t._u([{key:"top-row",fn:function(e){var r=e.fields;return t._l(r,function(e){return o("td",{key:e.key},["actions"!=e.key&&"AddFlashSell"!=e.key?o("input",{directives:[{name:"model",rawName:"v-model",value:t.filters[e.key],expression:"filters[field.key]"}],staticClass:"form-control",attrs:{placeholder:" "+e.label},domProps:{value:t.filters[e.key]},on:{click:function(e){t.currentPage=1},input:function(o){o.target.composing||t.$set(t.filters,e.key,o.target.value)}}}):t._e()])})}},{key:"AddFlashSell",fn:function(e){return["0"==e.item.AddFlashSell?o("label",{staticStyle:{color:"#008000"}},[o("b",[t._v(t._s(t.$t("None")))])]):t._e(),"1"==e.item.AddFlashSell?o("label",{staticStyle:{color:"#008000"}},[o("b",[t._v(t._s(t.$t("Flash_Sale")))])]):t._e(),"2"==e.item.AddFlashSell?o("label",{staticStyle:{color:"#008000"}},[o("b",[t._v(t._s(t.$t("Home_Page")))])]):t._e()]}},{key:"actions",fn:function(e){return[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon mr-2 anchor-pointer",attrs:{title:t.$t("Update")},on:{click:function(o){t.editMode=!0,t.showLoader=!1,t.clearObjects(),t.selectObject(e.item),t.$refs.editProductModel.show()}}},[o("i",{staticClass:"fa font-2x2 fa-pencil",attrs:{id:"editIcon"}})]),"N"==e.item.ProductStatus?o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon mr-2 anchor-pointer",attrs:{title:t.$t("Enable_Product")},on:{click:function(o){t.enableProduct=!0,t.clearObjects(),t.selectObject(e.item),t.$refs.disableProductModel.show()}}},[o("i",{staticClass:"fa fa-check-circle font-2x2 icons mt-1"})]):t._e(),"Y"==e.item.ProductStatus?o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon mr-2 anchor-pointer",attrs:{title:t.$t("Disable_Product")},on:{click:function(o){t.disableProduct=!0,t.clearObjects(),t.selectObject(e.item),t.$refs.disableProductModel.show()}}},[o("i",{staticClass:"fa fa-ban font-2x2 icons mt-1"})]):t._e(),o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon mr-2 anchor-pointer",attrs:{title:t.$t("Copy")},on:{click:function(o){t.editMode=!1,t.copyData=!0,t.showLoader=!1,t.clearObjects(),t.selectObject(e.item),t.$refs.copyProductModel.show()}}},[o("i",{staticClass:"fa fa-copy",attrs:{id:"editIcon"}})]),o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon anchor-pointer",attrs:{title:t.$t("Delete")},on:{click:function(o){t.clearObjects(),t.selectObject(e.item),t.$refs.deleteProductModel.show()}}},[o("i",{staticClass:"cui-trash font-2x2 icons mt-1"})])]}}])}),0==t.gridData2.length?o("div",{staticClass:"pt-1 pb-4"},[o("div",{staticClass:"text-center"},[o("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1)]):t._e(),o("nav",[o("b-pagination",{staticClass:"pull-right",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),o("b-modal",{ref:"deleteProductModel",staticClass:"modal-primary",attrs:{"no-close-on-backdrop":"",title:t.$t("Delete_Product")}},[o("p",[t._v(t._s(t.$t("Are_you_sure_you_want_to_delete_product"))+" "),o("b",{staticStyle:{color:"#ef402b"}},[t._v(t._s(t.deleteProduct.ProductName))]),t._v(" ?")]),o("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[o("b-button",{staticClass:"float-right ml-2 ",attrs:{type:"button"},on:{click:function(e){return t.$refs.deleteProductModel.hide()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))]),o("b-button",{staticClass:"float-right ml-2 ",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",variant:"primary"},on:{click:function(e){return t.deleteItem(t.$refs.deleteProductModel,t.deleteProduct)}}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Confirm")))])],1)]),o("b-modal",{ref:"disableProductModel",staticClass:"modal-primary",attrs:{"no-close-on-backdrop":"",title:t.$t("Disable_Enable_Product")}},[o("p",[t._v(t._s(t.$t("Are_you_sure_you_want_to_Enable_or_disable_Product"))+" "),o("b",{staticStyle:{color:"#ef402b"}},[t._v(t._s(t.disableProduct.ProductName))]),t._v(" ?")]),o("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[o("b-button",{staticClass:"float-right ml-2 ",attrs:{type:"button"},on:{click:function(e){return t.$refs.disableProductModel.hide()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))]),o("b-button",{staticClass:"float-right ml-2 ",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",variant:"primary"},on:{click:function(e){return t.disableItemProduct(t.$refs.disableProductModel,t.disableProduct)}}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Confirm")))])],1)]),o("b-modal",{ref:"addProductModel",staticClass:"modal-primary",attrs:{id:"productModel","no-close-on-backdrop":"",size:"xl","hide-footer":"",title:t.$t("Add_Product")}},[o("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.showLoader=!0,t.saveItem(t.$refs.addProductModel,t.selectedProduct)}}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_store")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},on:{change:function(e){return t.changeStore(t.selectedProduct.StoreID)}},model:{value:t.selectedProduct.StoreID,callback:function(e){t.$set(t.selectedProduct,"StoreID",e)},expression:"selectedProduct.StoreID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_store")))]),t._l(t.storeList,function(e){return o("option",{key:e.StoreID,domProps:{value:e.StoreID}},[t._v(t._s(e.StoreName))])})],2)],1)],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Group")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},model:{value:t.selectedProduct.StoreProductGroupID,callback:function(e){t.$set(t.selectedProduct,"StoreProductGroupID",e)},expression:"selectedProduct.StoreProductGroupID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_product_group")))]),t._l(t.productGroupList,function(e){return o("option",{key:e.StoreProductGroupID,domProps:{value:e.StoreProductGroupID}},[t._v(t._s(e.GroupName))])})],2)],1)],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Product_Name")}},[o("b-form-input",{attrs:{type:"text",placeholder:t.$t("Please_enter_product_name"),required:""},model:{value:t.selectedProduct.ProductName,callback:function(e){t.$set(t.selectedProduct,"ProductName",e)},expression:"selectedProduct.ProductName"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Short_Product_Description")}},[o("b-form-textarea",{attrs:{productsList:"",placeholder:t.$t("Please_enter_product_description"),maxlength:"150",required:""},model:{value:t.selectedProduct.ShortDescription,callback:function(e){t.$set(t.selectedProduct,"ShortDescription",e)},expression:"selectedProduct.ShortDescription"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Total_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_total_quantity"),required:""},model:{value:t.selectedProduct.TotalQuantity,callback:function(e){t.$set(t.selectedProduct,"TotalQuantity",e)},expression:"selectedProduct.TotalQuantity"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Available_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_available_quantity"),required:""},model:{value:t.selectedProduct.AvailableQuantity,callback:function(e){t.$set(t.selectedProduct,"AvailableQuantity",e)},expression:"selectedProduct.AvailableQuantity"}})],1)],1),o("b-col",{attrs:{md:"3"}},[o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:"M"!=t.loginUser.Role,expression:"loginUser.Role!='M'"}],attrs:{validated:"",label:t.$t("Show_In")}},[o("b-form-select",{model:{value:t.selectedProduct.AddFlashSell,callback:function(e){t.$set(t.selectedProduct,"AddFlashSell",e)},expression:"selectedProduct.AddFlashSell"}},[o("option",{attrs:{value:"0",selected:""}},[t._v(t._s(t.$t("None")))]),o("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("Flash_Sale")))]),o("option",{attrs:{value:"2"}},[t._v(t._s(t.$t("Home_Page")))])])],1),o("b-col",{attrs:{md:"1"}})],1)],1),"B"!==t.category?o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_promo_price"),step:"any",required:""},model:{value:t.selectedProduct.PromotionalPrice,callback:function(e){t.$set(t.selectedProduct,"PromotionalPrice",e)},expression:"selectedProduct.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_sell_price"),step:"any",required:""},model:{value:t.selectedProduct.SellPrice,callback:function(e){t.$set(t.selectedProduct,"SellPrice",e)},expression:"selectedProduct.SellPrice"}})],1)],1)],1):t._e(),"B"==t.category?o("b-row",[o("b-col",{attrs:{md:"10"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Type_of_product_and_price")}}),o("hr",{staticStyle:{"margin-top":"-1rem !important"}})],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 text-left",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",title:t.$t("Add Power Transfer")},on:{click:t.addOtherType}},[o("b",[t._v("+")])])],1)],1),t._l(t.otherType,function(e,r){return o("b-row",{key:r,attrs:{"v-if":"B"==t.category}},[o("b-col",{attrs:{md:"1"}}),o("b-col",{attrs:{md:"10"}},[o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Type")}},[o("b-input-group",[o("b-form-input",{attrs:{type:"text",required:""},model:{value:e.ProductType,callback:function(o){t.$set(e,"ProductType",o)},expression:"type.ProductType"}})],1)],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.PromotionalPrice,callback:function(o){t.$set(e,"PromotionalPrice",o)},expression:"type.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.SellPrice,callback:function(o){t.$set(e,"SellPrice",o)},expression:"type.SellPrice"}})],1)],1)],1)],1),0!==r?o("b-col",{attrs:{md:"1"}},[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mb-2 ml-2",staticStyle:{float:"right",margin:"25px 0px 0px 0px"},attrs:{type:"button",variant:"secondary",title:t.$t("Remove")},on:{click:function(e){return t.removeOtherType(r)}}},[o("i",{staticClass:"cui-trash font-2x2 icons mt-1"})])],1):t._e()],1)})],2):t._e(),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Long_Description_Of_The_Product")}},[o("vue-editor",{staticClass:"meeting-notes-popup",attrs:{useCustomImageHandler:"",required:""},model:{value:t.selectedProduct.LongDescription,callback:function(e){t.$set(t.selectedProduct,"LongDescription",e)},expression:"selectedProduct.LongDescription"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-row",[o("b-form-group",{attrs:{label:t.$t("Product_Picture")}})],1),o("vue-upload-multiple-image",{staticStyle:{margin:"auto",width:"50%",padding:"10px"},attrs:{"data-images":t.save_images,idUpload:"myIdUploadSave"},on:{"upload-success":t.uploadImageSuccess,"before-remove":t.beforeRemove,"edit-image":t.editImage,"data-change":t.dataChange}}),o("b-row"),o("br")],1)],1),o("hr",{staticStyle:{margin:"20px -20px"}}),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[0==t.showLoader?o("b-button",{staticClass:"ml-2",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"submit"}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Save")))]):t._e(),1==t.showLoader?o("b-button",{attrs:{variant:"primary"}},[o("b-spinner",{attrs:{small:""}}),o("span",{staticClass:"sr-only"},[t._v("Loading...")])],1):t._e(),o("b-button",{staticClass:"ml-2",attrs:{type:"button"},on:{click:function(e){t.clearObjects(),t.$refs.addProductModel.hide()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))])],1)],1)],1),o("b-modal",{ref:"editProductModel",staticClass:"modal-primary",attrs:{id:"productModel","no-close-on-backdrop":"",size:"xl","hide-footer":"",title:t.$t("Edit_Product")}},[o("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.showLoader=!0,t.updateItem(t.$refs.editProductModel,t.editProduct)}}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_store")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},on:{change:function(e){return t.changeStore(t.editProduct.StoreID)}},model:{value:t.editProduct.StoreID,callback:function(e){t.$set(t.editProduct,"StoreID",e)},expression:"editProduct.StoreID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_store")))]),t._l(t.storeList,function(e){return o("option",{key:e.StoreID,domProps:{value:e.StoreID}},[t._v(t._s(e.StoreName))])})],2)],1)],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Group")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},model:{value:t.editProduct.StoreProductGroupID,callback:function(e){t.$set(t.editProduct,"StoreProductGroupID",e)},expression:"editProduct.StoreProductGroupID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_product_group")))]),t._l(t.productGroupList,function(e){return o("option",{key:e.StoreProductGroupID,domProps:{value:e.StoreProductGroupID}},[t._v(t._s(e.GroupName))])})],2)],1)],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Product_Name")}},[o("b-form-input",{attrs:{type:"text",placeholder:t.$t("Please_enter_product_name"),required:""},model:{value:t.editProduct.ProductName,callback:function(e){t.$set(t.editProduct,"ProductName",e)},expression:"editProduct.ProductName"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Short_Product_Description")}},[o("b-form-textarea",{attrs:{productsList:"",placeholder:t.$t("Please_enter_product_description"),maxlength:"150",required:""},model:{value:t.editProduct.ShortDescription,callback:function(e){t.$set(t.editProduct,"ShortDescription",e)},expression:"editProduct.ShortDescription"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Total_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_total_quantity"),required:""},model:{value:t.editProduct.TotalQuantity,callback:function(e){t.$set(t.editProduct,"TotalQuantity",e)},expression:"editProduct.TotalQuantity"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Available_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_available_quantity"),required:""},model:{value:t.editProduct.AvailableQuantity,callback:function(e){t.$set(t.editProduct,"AvailableQuantity",e)},expression:"editProduct.AvailableQuantity"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:"M"!=t.loginUser.Role,expression:"loginUser.Role!='M'"}],attrs:{validated:"",label:t.$t("Show_In")}},[o("b-form-select",{model:{value:t.editProduct.AddFlashSell,callback:function(e){t.$set(t.editProduct,"AddFlashSell",e)},expression:"editProduct.AddFlashSell"}},[o("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("None")))]),o("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("Flash_Sale")))]),o("option",{attrs:{value:"2"}},[t._v(t._s(t.$t("Home_Page")))])])],1)],1)],1),"B"!==t.category?o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_promo_price"),step:"any",required:""},model:{value:t.editProduct.PromotionalPrice,callback:function(e){t.$set(t.editProduct,"PromotionalPrice",e)},expression:"editProduct.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_sell_price"),step:"any",required:""},model:{value:t.editProduct.SellPrice,callback:function(e){t.$set(t.editProduct,"SellPrice",e)},expression:"editProduct.SellPrice"}})],1)],1)],1):t._e(),"B"==t.category?o("b-row",[o("b-col",{attrs:{md:"10"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Type_of_product_and_price")}}),o("hr",{staticStyle:{"margin-top":"-1rem !important"}})],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 text-left",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",title:t.$t("Add Power Transfer")},on:{click:t.addOtherType}},[o("b",[t._v("+")])])],1)],1),t._l(t.otherType,function(e,r){return o("b-row",{key:r,attrs:{"v-if":"B"==t.category}},[o("b-col",{attrs:{md:"1"}}),o("b-col",{attrs:{md:"10"}},[o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Type")}},[o("b-input-group",[o("b-form-input",{attrs:{type:"text",required:""},model:{value:e.ProductType,callback:function(o){t.$set(e,"ProductType",o)},expression:"type.ProductType"}})],1)],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.PromotionalPrice,callback:function(o){t.$set(e,"PromotionalPrice",o)},expression:"type.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.SellPrice,callback:function(o){t.$set(e,"SellPrice",o)},expression:"type.SellPrice"}})],1)],1)],1)],1),0!==r?o("b-col",{attrs:{md:"1"}},[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mb-2 ml-2",staticStyle:{float:"right",margin:"25px 0px 0px 0px"},attrs:{type:"button",variant:"secondary",title:t.$t("Remove")},on:{click:function(e){return t.removeOtherType(r)}}},[o("i",{staticClass:"cui-trash font-2x2 icons mt-1"})])],1):t._e()],1)})],2):t._e(),o("b-row"),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Long_Description_Of_The_Product")}},[o("vue-editor",{staticClass:"meeting-notes-popup",attrs:{useCustomImageHandler:"",required:""},model:{value:t.editProduct.LongDescription,callback:function(e){t.$set(t.editProduct,"LongDescription",e)},expression:"editProduct.LongDescription"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-row",[o("b-form-group",{attrs:{label:t.$t("Product_Picture")}},[o("vue-upload-multiple-image",{staticStyle:{margin:"auto",width:"50%",padding:"10px"},attrs:{"data-images":t.update_images,idUpload:"myIdUploadEdit"},on:{"upload-success":t.uploadImageSuccess,"before-remove":t.beforeRemove,"edit-image":t.editImage,"data-change":t.dataChange}})],1)],1),o("b-row",t._l(t.productsImages1,function(e){return o("b-col",{key:e.ProductCatalogueImage,attrs:{md:"4"}},[o("b-img",{staticStyle:{height:"100px",width:"100px","z-index":"10"},attrs:{thumbnail:"",src:t.ApiEndPoints+"images/"+e.ProductCatalogueImage,rounded:"left"}}),o("button",{staticClass:"close",staticStyle:{position:"relative",right:"44%",top:"2%"},attrs:{type:"button","aria-label":"Close"},on:{click:function(o){return t.addDeleteProductImgs(e)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),o("br")],1)}),1),o("br")],1)],1),o("hr",{staticStyle:{margin:"20px -20px"}}),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[0==t.showLoader?o("b-button",{staticClass:"ml-2",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"submit"}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Save")))]):t._e(),1==t.showLoader?o("b-button",{attrs:{variant:"primary"}},[o("b-spinner",{attrs:{small:""}}),o("span",{staticClass:"sr-only"},[t._v("Loading...")])],1):t._e(),o("b-button",{staticClass:"ml-2",attrs:{type:"button"},on:{click:function(e){t.clearObjects(),t.$refs.editProductModel.hide(),t.editMode=!1}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))])],1)],1)],1),o("b-modal",{ref:"copyProductModel",staticClass:"modal-primary",attrs:{id:"productModel","no-close-on-backdrop":"",size:"xl","hide-footer":"",title:t.$t("Add_Product")}},[o("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.showLoader=!0,t.saveItem(t.$refs.copyProductModel,t.copyProduct)}}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_store")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},on:{change:function(e){return t.changeStore(t.copyProduct.StoreID)}},model:{value:t.copyProduct.StoreID,callback:function(e){t.$set(t.copyProduct,"StoreID",e)},expression:"copyProduct.StoreID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_store")))]),t._l(t.storeList,function(e){return o("option",{key:e.StoreID,domProps:{value:e.StoreID}},[t._v(t._s(e.StoreName))])})],2)],1)],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Group")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},model:{value:t.copyProduct.StoreProductGroupID,callback:function(e){t.$set(t.copyProduct,"StoreProductGroupID",e)},expression:"copyProduct.StoreProductGroupID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_product_group")))]),t._l(t.productGroupList,function(e){return o("option",{key:e.StoreProductGroupID,domProps:{value:e.StoreProductGroupID}},[t._v(t._s(e.GroupName))])})],2)],1)],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Product_Name")}},[o("b-form-input",{attrs:{type:"text",placeholder:t.$t("Please_enter_product_name"),required:""},model:{value:t.copyProduct.ProductName,callback:function(e){t.$set(t.copyProduct,"ProductName",e)},expression:"copyProduct.ProductName"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Short_Product_Description")}},[o("b-form-textarea",{attrs:{productsList:"",placeholder:t.$t("Please_enter_product_description"),maxlength:"150",required:""},model:{value:t.copyProduct.ShortDescription,callback:function(e){t.$set(t.copyProduct,"ShortDescription",e)},expression:"copyProduct.ShortDescription"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Total_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_total_quantity"),required:""},model:{value:t.copyProduct.TotalQuantity,callback:function(e){t.$set(t.copyProduct,"TotalQuantity",e)},expression:"copyProduct.TotalQuantity"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Available_Quantity")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_available_quantity"),required:""},model:{value:t.copyProduct.AvailableQuantity,callback:function(e){t.$set(t.copyProduct,"AvailableQuantity",e)},expression:"copyProduct.AvailableQuantity"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:"M"!=t.loginUser.Role,expression:"loginUser.Role!='M'"}],attrs:{validated:"",label:t.$t("Show_In")}},[o("b-form-select",{model:{value:t.copyProduct.AddFlashSell,callback:function(e){t.$set(t.copyProduct,"AddFlashSell",e)},expression:"copyProduct.AddFlashSell"}},[o("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("None")))]),o("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("Flash_Sale")))]),o("option",{attrs:{value:"2"}},[t._v(t._s(t.$t("Home_Page")))])])],1)],1)],1),"B"!==t.category?o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_promo_price"),step:"any",required:""},model:{value:t.copyProduct.PromotionalPrice,callback:function(e){t.$set(t.copyProduct,"PromotionalPrice",e)},expression:"copyProduct.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",placeholder:t.$t("Please_enter_product_sell_price"),step:"any",required:""},model:{value:t.copyProduct.SellPrice,callback:function(e){t.$set(t.copyProduct,"SellPrice",e)},expression:"copyProduct.SellPrice"}})],1)],1)],1):t._e(),"B"==t.category?o("b-row",[o("b-col",{attrs:{md:"10"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Type_of_product_and_price")}}),o("hr",{staticStyle:{"margin-top":"-1rem !important"}})],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2 text-left",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",title:t.$t("Add Power Transfer")},on:{click:t.addOtherType}},[o("b",[t._v("+")])])],1)],1),t._l(t.otherType,function(e,r){return o("b-row",{key:r,attrs:{"v-if":"B"==t.category}},[o("b-col",{attrs:{md:"1"}}),o("b-col",{attrs:{md:"10"}},[o("b-row",[o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_Product_Type")}},[o("b-input-group",[o("b-form-input",{attrs:{type:"text"},model:{value:e.ProductType,callback:function(o){t.$set(e,"ProductType",o)},expression:"type.ProductType"}})],1)],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Promo_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.PromotionalPrice,callback:function(o){t.$set(e,"PromotionalPrice",o)},expression:"type.PromotionalPrice"}})],1)],1),o("b-col",{attrs:{md:"4"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Sell_Price")}},[o("b-form-input",{attrs:{type:"number",step:"any",required:""},model:{value:e.SellPrice,callback:function(o){t.$set(e,"SellPrice",o)},expression:"type.SellPrice"}})],1)],1)],1)],1),0!==r?o("b-col",{attrs:{md:"1"}},[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mb-2 ml-2",staticStyle:{float:"right",margin:"25px 0px 0px 0px"},attrs:{type:"button",variant:"secondary",title:t.$t("Remove")},on:{click:function(e){return t.removeOtherType(r)}}},[o("i",{staticClass:"cui-trash font-2x2 icons mt-1"})])],1):t._e()],1)})],2):t._e(),o("b-row",[o("br"),o("br")]),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Long_Description_Of_The_Product")}},[o("vue-editor",{staticClass:"meeting-notes-popup",attrs:{useCustomImageHandler:"",required:""},model:{value:t.copyProduct.LongDescription,callback:function(e){t.$set(t.copyProduct,"LongDescription",e)},expression:"copyProduct.LongDescription"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-row",[o("b-form-group",{attrs:{label:t.$t("Product_Picture")}},[o("vue-upload-multiple-image",{staticStyle:{margin:"auto",width:"50%",padding:"10px"},attrs:{"data-images":t.copy_images,idUpload:"myIdUploadCopy"},on:{"upload-success":t.uploadImageSuccess,"before-remove":t.beforeRemove,"edit-image":t.editImage,"data-change":t.dataChange}})],1)],1),o("br")],1)],1),o("hr",{staticStyle:{margin:"20px -20px"}}),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[0==t.showLoader?o("b-button",{staticClass:"ml-2",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"submit"}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Save")))]):t._e(),1==t.showLoader?o("b-button",{attrs:{variant:"primary"}},[o("b-spinner",{attrs:{small:""}}),o("span",{staticClass:"sr-only"},[t._v("Loading...")])],1):t._e(),o("b-button",{staticClass:"ml-2",attrs:{type:"button"},on:{click:function(e){t.clearObjects(),t.$refs.copyProductModel.hide(),t.editMode=!1}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))])],1)],1)],1)],1)},a=[],s=(o("34ef"),o("28a5"),o("7f7f"),o("6762"),o("2fdb"),o("ac6a"),o("456d"),o("bd86")),l=o("a026"),i=o("5873"),c=o("e440"),d=o.n(c),u=o("9746"),n=o("f206"),p=o.n(n),m=o("fc5c");l["default"].use(p.a);new FormData;var b={props:{caption:{type:String,default:"Managers"},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},dark:{type:Boolean,default:!1}},components:{VueEditor:i["a"],VueUploadMultipleImage:m["a"]},data:function(){var t,e,o,r;return r={selectedProduct:(t={StoreID:null,username:null,firstName:null,lastName:null},Object(s["a"])(t,"username",null),Object(s["a"])(t,"Amount",null),Object(s["a"])(t,"SellPrice",null),Object(s["a"])(t,"PromotionalPrice",null),Object(s["a"])(t,"storeName",""),Object(s["a"])(t,"ProductItems",[{ProductType:"",promoPrice:[],sellPrice:[],amount:[]}]),t),images:[],save_images:[],update_images:[],enableProduct:!1,disableProduct:!1,copy_images:[],productGroupList:[],editProduct:(e={StoreID:null,username:null,firstName:null,lastName:null},Object(s["a"])(e,"username",null),Object(s["a"])(e,"storeName",""),Object(s["a"])(e,"ProductItems",[{ProductType:"",promoPrice:[],sellPrice:[],amount:[]}]),e),copyProduct:(o={StoreID:null,username:null,firstName:null,lastName:null},Object(s["a"])(o,"username",null),Object(s["a"])(o,"storeName",""),Object(s["a"])(o,"ProductItems",[{ProductType:"",promoPrice:null,sellPrice:null,amount:null}]),o),copyData:!1,edit:!1,productsList:[],test:{target:{files:[]}},filters:{StoreName:"",GroupName:"",ProductName:""},deleteProduct:{}},Object(s["a"])(r,"disableProduct",{}),Object(s["a"])(r,"removeProductImgs",[]),Object(s["a"])(r,"editMode",!1),Object(s["a"])(r,"showPreview",!1),Object(s["a"])(r,"loginUser",{}),Object(s["a"])(r,"showLoader",!1),Object(s["a"])(r,"productsImages",[]),Object(s["a"])(r,"productsImages1",[]),Object(s["a"])(r,"selectedFiles",[]),Object(s["a"])(r,"ApiEndPoints",""),Object(s["a"])(r,"category",null),Object(s["a"])(r,"sortBy","StoreName"),Object(s["a"])(r,"pageOptions",[5,10,15]),Object(s["a"])(r,"currentPage",1),Object(s["a"])(r,"file",null),Object(s["a"])(r,"storeList",[]),Object(s["a"])(r,"perPage",10),Object(s["a"])(r,"otherType",[{ProductType:null,PromotionalPrice:"",SellPrice:"",Amount:"",PriceType:""}]),r},computed:{fields:function(){return[{key:"StoreName",label:this.translateString("Store_Name"),sortable:!0},{key:"GroupName",label:this.translateString("Group_Name"),sortable:!0},{key:"ProductName",label:this.translateString("Product_Name"),sortable:!0,thStyle:{width:"250px !important","min-width":"250px !important"}},{key:"AvailableQuantity",label:this.translateString("Available_Quantity"),sortable:!0},{key:"TotalQuantity",label:this.translateString("Total_Quantity"),sortable:!0},{key:"AddFlashSell",label:this.translateString("Show_In"),sortable:!0},{key:"actions",label:this.translateString("Action"),sortable:!1,thStyle:{width:"110px !important","min-width":"80px !important"}}]},gridData2:function(){return this.productsList},gridData:function(){var t=this;if(this.productsList.length>0)for(var e=0;e<this.productsList.length;e++)this.productsList[e].ProductItems[0]&&(this.productsList[e].AvailableQuantity=this.productsList[e].ProductItems[0].AvailableQuantity,this.productsList[e].TotalQuantity=this.productsList[e].ProductItems[0].TotalQuantity);var o=this.productsList.filter(function(e){return Object.keys(t.filters).every(function(o){return String(e[o]).toLowerCase().includes(String(t.filters[o]).toLowerCase())})});return o.length>0?o:[{StoreName:"",TelephoneNumber:""}]},totalRows:function(){return this.getRowCount()},captions:function(){return this.fields}},methods:{translateString:function(t){return this.$i18n.t(t)},getRowCount:function(){return this.productsList.length},selectObject:function(t){var e=t,o=e;null!=document.getElementById("myIdUploadEdit")&&(document.getElementById("myIdUploadEdit").value=""),null!=document.getElementById("myIdUploadCopy")&&(document.getElementById("myIdUploadCopy").value=""),this.editProduct=o;var r=null,a=null;r=this.editProduct.StoreID,this.getProductGrp(r);for(var s=0;s<this.storeList.length;s++)this.storeList[s].StoreID==r&&(a=this.storeList[s]);if(!o.ProductItems.length>0&&(this.editProduct.ProductItems=this.otherType),null!=a&&("B"==a.CategoryType?this.category="B":this.category="A"),this.editProduct.PhotoURL=o.ProductCatalogueImages,this.editProduct.AddFlashSell=o.AddFlashSell,this.editProduct.Amount=o.Amount,this.deleteProduct=o,this.disableProduct=o,o.ProductItems.length>0&&"B"==this.category){this.otherType=o.ProductItems;for(s=0;s<o.ProductItems.length;s++)this.editProduct.AvailableQuantity=o.ProductItems[s].AvailableQuantity,this.editProduct.TotalQuantity=o.ProductItems[s].TotalQuantity}if("B"!=this.category)o.ProductItems.length>0&&(this.editProduct.Amount=o.ProductItems[0].Amount,this.editProduct.SellPrice=o.ProductItems[0].SellPrice,this.editProduct.PromotionalPrice=o.ProductItems[0].PromotionalPrice);else for(s=0;s<o.ProductItems.length;s++)this.editProduct.ProductItems[s]=o.ProductItems[s],this.editProduct.ProductItems[s].PriceType="";if(this.productsImages1=this.editProduct.ProductCatalogueImages,this.copyData){if(this.copyProduct=o,!o.ProductItems.length>0&&(this.copyProduct.ProductItems=this.otherType),this.copyProduct.AddFlashSell=o.AddFlashSell,o.ProductItems.length>0)for(s=0;s<o.ProductItems.length;s++)this.copyProduct.AvailableQuantity=o.ProductItems[s].AvailableQuantity,this.copyProduct.TotalQuantity=o.ProductItems[s].TotalQuantity;if("B"!=this.category)this.copyProduct.Amount=o.ProductItems[0].Amount,this.copyProduct.SellPrice=o.ProductItems[0].SellPrice,this.copyProduct.PromotionalPrice=o.ProductItems[0].PromotionalPrice;else for(s=0;s<o.ProductItems.length;s++)this.copyProduct.ProductItems[s]=o.ProductItems[s],this.copyProduct.ProductItems[s].PriceType=""}},deleteItem:function(t,e){var o=this;console.log("in delete function");var r="productCatalogue/delete/"+e.ProductCatalogueID;u["e"](e,r).then(function(e){var r=e.data[0].message;200==e.status&&"Success"==r?(t.hide(),o.showLoader=!1,d.a.success({message:o.translateString("Product_Deleted_Successfully"),timeout:2500}),o.clearObjects(),o.getProducts()):(o.showLoader=!1,d.a.error({message:o.translateString(r),timeout:2500}))})},updateItem:function(t,e){this.editMode=!0,this.saveItem(t,e)},handleFileUpload:function(t){var e=this,o=t.target.files;if(this.imgsname=t.target.files[0].name,/\.(jpe?g|png|gif)$/i.test(this.imgsname))for(var r=0;r<o.length;r++){if(o[r].size>1048576){t.preventDefault(),alert(o[r].name+" file should not greater than 1MB"),this.productsImages=[],o=[],this.saveAds.productsImages=[];break}this.productsImages.push(o[r]);for(var a=function(t){var o=new FileReader;o.addEventListener("load",function(){this.$refs["image"+parseInt(t)][0].src=o.result,this.showPreview=!0}.bind(e),!1),o.readAsDataURL(e.productsImages[t])},s=0;s<this.productsImages.length;s++)a(s)}},dataURItoBlob:function(t){for(var e=atob(t.split(",")[1]),o=new ArrayBuffer(e.length),r=new Uint8Array(o),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return new Blob([o],{type:"image/jpeg"})},uploadImageSuccess:function(t,e,o){var r=this,a=[];o.forEach(function(t){a.push(r.dataURItoBlob(t.path))}),this.productsImages=a,1==this.editMode?this.update_images=o:this.save_images=o,this.copyData&&(this.copy_images=o)},beforeRemove:function(t,e,o){for(var r=0;r<this.productsImages.length;r++)r===t&&this.productsImages.splice(r,1);e()},editImage:function(t,e,o){console.log("edit data",t,e,o)},dataChange:function(t){console.log("data ",t)},getChanged:function(t,e){"save"==t&&(this.selectedProduct.AddFlashSell=1!=e),"update"==t&&(this.editProduct.AddFlashSell=1!=e),"copy"==t&&(this.editProduct.AddFlashSell=1!=e)},stripHtstripHtml:function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},setSelectedProduct:function(t){this.selectedProduct={},this.category="",this.defaultSelection()},addOtherType:function(){this.otherType.push({ProductType:null,PromotionalPrice:null,SellPrice:null,Amount:null})},changeStore:function(t){var e=null;this.getProductGrp(t);for(var o=0;o<this.storeList.length;o++)this.storeList[o].StoreID==t&&(e=this.storeList[o]);"B"==e.CategoryType?(this.category="B",this.selectedProduct.ProductItems=this.otherType):this.category="A"},removeOtherType:function(t){for(var e=0;e<this.otherType.length;e++)e===t&&this.otherType.splice(e,1)},setTypeAndPrice:function(){},getStores:function(){var t=this;this.loginUser=JSON.parse(window.localStorage.getItem("loginUser"));var e=null;e="M"==this.loginUser.Role?"user/store/get/"+this.loginUser.UserID:"store",u["c"](e).then(function(e){t.storeList=e.data})},getProductGrp:function(t){var e=this;u["c"]("store/productGroups/"+t).then(function(t){e.productGroupList=t.data,"M"==e.loginUser.Role&&e.productGroupList.length>0&&(e.selectedProduct.StoreProductGroupID=e.productGroupList[0].StoreProductGroupID)})},defaultSelection:function(){if("M"==this.loginUser.Role&&this.storeList.length>0){for(var t=0;t<this.storeList.length;t++)this.selectedProduct.StoreID=this.storeList[t].StoreID;this.getProductGrp(this.selectedProduct.StoreID),this.productGroupList.length>0&&(this.selectedProduct.StoreProductGroupID=this.productGroupList[0].StoreProductGroupID)}},addDeleteProductImgs:function(t){console.log(t),this.removeProductImgs.push(t);for(var e=null,o=0;o<this.productsImages1.length;o++)this.productsImages1[o].ProductCatalogueImageID==t.ProductCatalogueImageID&&(e=o);if(null!=e)for(var r=0;r<this.productsImages1.length;r++)r===e&&this.productsImages1.splice(r,1)},deleteProductImg:function(t){var e=this;console.log("delete image",t);var o="deleteProductCatalogueImages/delete/"+t.ProductCatalogueImageID;u["e"](t,o).then(function(t){var o=t.data[0].message;200==t.status&&"Success"==o?d.a.success({message:e.translateString("Product_Image_Deleted_Successfully_Saved"),timeout:2500}):d.a.error({message:e.translateString(o),timeout:2500})})},getProducts:function(){var t=this;this.loginUser=JSON.parse(window.localStorage.getItem("loginUser"));var e=null;e="M"==this.loginUser.Role?"productCatalogue/group/bystore/user/"+this.loginUser.UserID:"productCatalogue/forAdmin/get",u["c"](e).then(function(e){t.productsList=e.data})},checkValidation:function(t){this.selectedProduct&&this.selectedProduct.TotalQuantity&&this.selectedProduct.Amount&&this.selectedProduct.AvailableQuantity&&this.selectedProduct.GroupName&&this.selectedProduct.ProductName&&this.selectedProduct.PromotionalPrice&&this.selectedProduct.SellPrice?(t.hide(),this.showLoader=!1,d.a.success({message:"Data Saves Successfully",timeout:2500})):(this.showLoader=!1,d.a.error({message:"Please fill all mandatory fields of Profuct Info Tab.",timeout:2500}),setTimeout(function(){t.show()},0))},disableItemProduct:function(t,e){this.disableEnableProduct(t,e)},disableEnableProduct:function(t,e){var o=this,r=null;r="Y"==e.ProductStatus||1==e.ProductStatus?"productCatalogue/disable/"+e.ProductCatalogueID:"productCatalogue/enable/"+e.ProductCatalogueID,console.log("url",r),u["e"](e,r).then(function(r){var a=r.data[0].message;200==r.status&&"Success"==a?(t.hide(),o.getStores(),"Y"==e.ProductStatus?d.a.success({message:o.translateString("Product_Disabled_Successfully_Saved"),timeout:2500}):d.a.success({message:o.translateString("Product_Enabled_Successfully_Saved"),timeout:2500}),o.clearObjects()):d.a.error({message:o.translateString(a),timeout:2500})})},clearObjects:function(){this.selectedProduct={},this.editProduct={},this.otherType=[],this.otherType.push({ProductType:null,PromotionalPrice:null,SellPrice:null,Amount:null}),this.getProducts(),console.log("clear...."),null!=document.getElementById("myIdUploadSave")&&void 0!=document.getElementById("myIdUploadSave")&&(document.getElementById("myIdUploadSave").value="",document.getElementById("myIdUploadEdit").value="",document.getElementById("myIdUploadCopy").value=""),this.selectedProduct={},this.editProduct={},this.productsImages=[],this.removeProductImgs=[],this.save_images=[],this.update_images=[],this.copy_images=[],this.category=null},saveItem:function(t,e){var o=this;console.log("in save itom function"),e.ProductItems=this.otherType;var r=e;if(this.editMode&&this.removeProductImgs.length>0)for(var a=0;a<this.removeProductImgs.length;a++)this.deleteProductImg(this.removeProductImgs[a]);if(null!=r.PhotoURL&&""!=r.PhotoURL){(this.editMode||this.copyData)&&(r.PhotoURL=[]);for(var s=0;s<this.productsImages.length;s++)r.PhotoURL.push(this.productsImages[s])}else r.PhotoURL=this.productsImages;this.productsImages=[];var l=new FormData;if(l.append("StoreID",r.StoreID),l.append("AddFlashSell",parseInt(null==r.AddFlashSell?0:r.AddFlashSell)),l.append("StoreProductGroupID",r.StoreProductGroupID),l.append("ProductName",r.ProductName),"B"!=this.category){if(r.ProductItems||(r.ProductItems=this.otherType),r.ProductItems[0].ProductType="Any",r.ProductItems[0].Amount=r.SellPrice,parseInt(r.SellPrice)<parseInt(r.PromotionalPrice))return this.showLoader=!1,void d.a.error({message:this.translateString("Promo_Price_Should_be_less_than_Sell_Price"),timeout:2500});r.ProductItems[0].SellPrice=r.SellPrice,r.ProductItems[0].PromotionalPrice=r.PromotionalPrice,r.ProductItems[0].TotalQuantity=r.TotalQuantity,r.ProductItems[0].AvailableQuantity=r.AvailableQuantity,r.ProductItems[0].PriceType="Euro",l.append("ProductItems[0]",JSON.stringify(r.ProductItems[0]))}else{for(s=0;s<r.ProductItems.length;s++){if(r.ProductItems[s].PriceType="Euro",parseInt(r.ProductItems[s].SellPrice)<parseInt(r.ProductItems[s].PromotionalPrice))return d.a.error({message:this.translateString("Promo_Price_Should_be_less_than_Sell_Price"),timeout:2500}),void(this.showLoader=!1);r.ProductItems[s].Amount=r.ProductItems[s].SellPrice,r.ProductItems[s].AvailableQuantity=r.AvailableQuantity,r.ProductItems[s].TotalQuantity=r.TotalQuantity}for(s=0;s<r.ProductItems.length;s++)l.append("ProductItems["+s+"]",JSON.stringify(r.ProductItems[s]))}l.append("ShortDescription",r.ShortDescription),l.append("LongDescription",this.stripHtstripHtml(r.LongDescription)),l.append("PriceType[0]","Rs");for(s=0;s<r.PhotoURL.length;s++)l.append("PhotoURL["+s+"]",r.PhotoURL[s]);var i=null;this.editMode?(i="/productCatalogue/update/"+r.ProductCatalogueID,this.editMode=!1):i="productCatalogue/save",u["e"](l,i).then(function(e){var r=e.data[0].message;200==e.status&&"Success"==r?(t.hide(),o.getProducts(),o.clearObjects(),o.editMode=!1,o.copyData=!1,o.showLoader=!1,d.a.success({message:o.translateString("Product_Successfully_Saved"),timeout:2500})):(o.showLoader=!1,d.a.error({message:o.translateString(r),timeout:2500}))})}},beforeMount:function(){this.ApiEndPoints=u["a"],this.getProducts(),this.getStores()}},P=b,h=o("2877"),f=Object(h["a"])(P,r,a,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0af61b.fa94e335.js.map