(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f59cc1a"],{"456d":function(t,e,o){var r=o("4bf8"),s=o("0d58");o("5eda")("keys",function(){return function(t){return s(r(t))}})},"5eda":function(t,e,o){var r=o("5ca1"),s=o("8378"),a=o("79e5");t.exports=function(t,e){var o=(s.Object||{})[t]||Object[t],l={};l[t]=e(o),r(r.S+r.F*a(function(){o(1)}),"Object",l)}},e5e0:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{attrs:{header:t.$t("Products_grp")}},[o("b-button",{staticClass:"mr-1 mb-2 mt-xl-n2 pull-right",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button"},on:{click:function(e){t.showLoader=!1,t.clearObjects(),t.$refs.addProductModel.show(),t.defaultSelection()}}},[t._v(t._s(t.$t("Add_Product_Groups")))]),o("b-table",{attrs:{dark:t.dark,"sort-by":t.sortBy,hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"lg",items:t.gridData,fields:t.captions,"current-page":t.currentPage,"per-page":t.perPage},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e}},scopedSlots:t._u([{key:"top-row",fn:function(e){var r=e.fields;return 1==t.currentPage?t._l(r,function(e){return o("td",{key:e.key},["actions"!=e.key?o("input",{directives:[{name:"model",rawName:"v-model",value:t.filters[e.key],expression:"filters[field.key]"}],attrs:{placeholder:" "+e.label},domProps:{value:t.filters[e.key]},on:{input:function(o){o.target.composing||t.$set(t.filters,e.key,o.target.value)}}}):t._e()])}):void 0}},{key:"actions",fn:function(e){return[o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon mr-2 anchor-pointer",attrs:{title:t.$t("Update")},on:{click:function(o){t.showLoader=!1,t.selectObject(e.item),t.$refs.editProductModel.show()}}},[o("i",{staticClass:"fa font-2x2 fa-pencil",attrs:{id:"editIcon"}})]),o("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon anchor-pointer",attrs:{title:t.$t("Delete")},on:{click:function(o){t.selectObject(e.item),t.$refs.deleteProductModel.show()}}},[o("i",{staticClass:"cui-trash font-2x2 icons mt-1"})])]}}],null,!0)}),0==t.gridData2.length?o("div",{staticClass:"pt-1 pb-4"},[o("div",{staticClass:"text-center"},[o("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1)]):t._e(),o("nav",[o("b-pagination",{staticClass:"pull-right",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),o("b-modal",{ref:"deleteProductModel",staticClass:"modal-primary",attrs:{"no-close-on-backdrop":"",title:t.$t("Delete_Product")}},[o("p",[t._v(t._s(t.$t("Are_you_sure_you_want_to_delete_product"))+" "),o("b",{staticStyle:{color:"#ef402b"}}),t._v(" ?")]),o("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[o("b-button",{staticClass:"float-right ml-2 ",attrs:{type:"button"},on:{click:function(e){t.$refs.deleteProductModel.hide(),t.clearObjects()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))]),o("b-button",{staticClass:"float-right ml-2 ",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"button",variant:"primary"},on:{click:function(e){t.deleteItem(t.$refs.deleteProductModel,t.selectedProductGroup.StoreProductGroupID),t.clearObjects()}}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Confirm")))])],1)]),o("b-modal",{ref:"addProductModel",staticClass:"modal-primary",attrs:{"no-close-on-backdrop":"",size:"lg","hide-footer":"",title:t.$t("Add_Product_Groups")}},[o("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.showLoader=!0,t.saveItem(t.$refs.addProductModel,t.saveProductGroup)}}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_store")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},model:{value:t.saveProductGroup.StoreID,callback:function(e){t.$set(t.saveProductGroup,"StoreID",e)},expression:"saveProductGroup.StoreID"}},[o("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("Please_select_store")))]),t._l(t.storesList,function(e){return o("option",{key:e.StoreID,domProps:{value:e.StoreID}},[t._v(t._s(e.StoreName))])})],2)],1)],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Group_Name")}},[o("b-form-input",{attrs:{type:"text",placeholder:t.$t("Please_enter_group_name"),required:""},model:{value:t.saveProductGroup.GroupName,callback:function(e){t.$set(t.saveProductGroup,"GroupName",e)},expression:"saveProductGroup.GroupName"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{label:t.$t("Profile")}},[o("b-form-file",{attrs:{required:"",state:Boolean(t.saveProductGroup.GroupPhotoURL),placeholder:t.$t("Choose_a_Grp_Profile"),"drop-placeholder":t.$t("Drop_file_here")},model:{value:t.saveProductGroup.GroupPhotoURL,callback:function(e){t.$set(t.saveProductGroup,"GroupPhotoURL",e)},expression:"saveProductGroup.GroupPhotoURL"}})],1)],1)],1),o("hr",{staticStyle:{margin:"20px -20px"}}),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[0==t.showLoader?o("b-button",{staticClass:"ml-2",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"submit"}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" "+t._s(t.$t("Save"))+"\n        ")]):t._e(),1==t.showLoader?o("b-button",{attrs:{variant:"primary"}},[o("b-spinner",{attrs:{small:""}}),o("span",{staticClass:"sr-only"},[t._v("Loading...")])],1):t._e(),o("b-button",{staticClass:"ml-2",attrs:{type:"button"},on:{click:function(e){t.$refs.addProductModel.hide(),t.clearObjects()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel"))+"\n        ")])],1)],1)],1),o("b-modal",{ref:"editProductModel",staticClass:"modal-primary",attrs:{"no-close-on-backdrop":"",size:"lg","hide-footer":"",title:t.$t("Edit_Product_Groups")}},[o("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.showLoader=!0,t.updateItem(t.$refs.editProductModel,t.selectedProductGroup)}}},[o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Select_store")}},[o("b-input-group",[o("b-form-select",{attrs:{required:""},model:{value:t.selectedProductGroup.StoreID,callback:function(e){t.$set(t.selectedProductGroup,"StoreID",e)},expression:"selectedProductGroup.StoreID"}},[o("option",[t._v("All Stores")]),t._l(t.storesList,function(e){return o("option",{key:e.StoreID,domProps:{value:e.StoreID}},[t._v(t._s(e.StoreName))])})],2)],1)],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{validated:"",label:t.$t("Group_Name")}},[o("b-form-input",{attrs:{type:"text",placeholder:t.$t("Please_enter_group_name"),required:""},model:{value:t.selectedProductGroup.GroupName,callback:function(e){t.$set(t.selectedProductGroup,"GroupName",e)},expression:"selectedProductGroup.GroupName"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{label:t.$t("Profile")}},[o("b-form-file",{attrs:{state:Boolean(t.selectedProductGroup.GroupPhotoURL),placeholder:t.selectedProductGroup.GroupPhotoURL?t.selectedProductGroup.GroupPhotoURL:"Choose_a_Grp_Profile","drop-placeholder":t.$t("Drop_file_here")},model:{value:t.selectedProductGroup.GroupPhotoURL,callback:function(e){t.$set(t.selectedProductGroup,"GroupPhotoURL",e)},expression:"selectedProductGroup.GroupPhotoURL"}})],1)],1),o("b-col",{attrs:{md:"6"}},[o("b-form-group",{attrs:{label:t.$t("Profile")}},[o("b-img",{staticStyle:{height:"20vh",width:"30vh"},attrs:{thumbnail:"",src:t.selectedProductGroup.GroupPhotoURL_preview,rounded:"left",alt:"Upload Profile Photo"}})],1)],1)],1),o("hr",{staticStyle:{margin:"20px -20px"}}),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[0==t.showLoader?o("b-button",{staticClass:"ml-2",staticStyle:{"background-color":"#ef402b","border-color":"#C33421",color:"white"},attrs:{type:"submit"}},[o("i",{staticClass:"fa fa-dot-circle-o"}),t._v("  \n        "+t._s(t.$t("Save")))]):t._e(),1==t.showLoader?o("b-button",{attrs:{variant:"primary"}},[o("b-spinner",{attrs:{small:""}}),o("span",{staticClass:"sr-only"},[t._v("Loading...")])],1):t._e(),o("b-button",{staticClass:"ml-2",attrs:{type:"button"},on:{click:function(e){return t.$refs.editProductModel.hide()}}},[o("i",{staticClass:"fa fa-close"}),t._v(" "+t._s(t.$t("Cancel")))])],1)],1)],1)],1)},s=[],a=(o("6762"),o("2fdb"),o("ac6a"),o("456d"),o("e440")),l=o.n(a),i=o("9746"),n={props:{caption:{type:String,default:"Managers"},hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},dark:{type:Boolean,default:!1}},data:function(){return{selectedProductGroup:{},saveProductGroup:{},loginUser:{},showLoader:!1,editUser:!1,storesList:[],orderProdctGrp:[],sortBy:"StoreName",pageOptions:[5,10,15],currentPage:1,file:null,buildingsList:[],perPage:10,filters:{StoreName:"",GroupName:""},productGroupList:[],otherAddr:[{storeName:null,city:null,pincode:null}]}},computed:{fields:function(){return[{key:"StoreName",label:this.translateString("Store_Name"),sortable:!0},{key:"GroupName",label:this.translateString("Group_Name"),sortable:!0},{key:"actions",label:this.translateString("Action"),sortable:!1,thStyle:{width:"70px !important","min-width":"70px !important"}}]},gridData2:function(){return this.productGroupList},gridData:function(){var t=this,e=this.productGroupList.filter(function(e){return Object.keys(t.filters).every(function(o){return String(e[o]).toLowerCase().includes(String(t.filters[o]).toLowerCase())})});return e.length>0?e:[{StoreName:"",GroupName:""}]},totalRows:function(){return this.getRowCount()},captions:function(){return this.fields}},methods:{translateString:function(t){return this.$i18n.t(t)},getRowCount:function(){return this.productGroupList.length},selectObject:function(t){this.selectedProductGroup=t,this.selectedProductGroup.GroupPhotoURL_preview=i["a"]+"images/"+t.GroupPhotoURL,console.log("this.selectedProductGroup.GroupPhotoURL_preview :",this.selectedProductGroup.GroupPhotoURL_preview)},deleteItem:function(t,e){var o=this;console.log("in delete function");var r="productGroup/delete/"+e;i["c"](r).then(function(e){var r=e.status;"Success"==r?(t.hide(),l.a.success({message:o.translateString("ProductGroup_Deleted_Successfully"),timeout:2500}),o.clearObjects(),o.getProductGrp()):l.a.error({message:o.translateString(r),timeout:2500})})},updateItem:function(t,e){console.log("in update function"),this.editUser=!0,this.saveItem(t,e)},clearObjects:function(){this.saveProductGroup={},this.selectedProductGroup={},this.editUser=!1,this.getProductGrp()},defaultSelection:function(){if(this.loginUser=JSON.parse(window.localStorage.getItem("loginUser")),"M"==this.loginUser.Role&&this.storesList.length>0)for(var t=0;t<this.storesList.length;t++)this.saveProductGroup.StoreID=this.storesList[t].StoreID},saveItem:function(t,e){var o=this;console.log("in save itom function");var r=e;console.log(r);var s=new FormData;s.append("GroupPhotoURL",r.GroupPhotoURL),s.append("GroupName",r.GroupName),s.append("StoreID",r.StoreID);var a=null;!0===this.editUser&&r.StoreProductGroupID?(a="productGroup/update/"+r.StoreProductGroupID,this.editUser=!1):a="productGroup/save",console.log("url",a),i["e"](s,a).then(function(e){console.log("data",e);var r=e.data[0].message;200==e.status&&"Success"==r?(t.hide(),o.getProductGrp(),o.clearObjects(),o.showLoader=!1,l.a.success({message:o.translateString("Product_Group_Successfully_Saved"),timeout:2500})):(l.a.error({message:o.translateString(r),timeout:2500}),o.showLoader=!1)})},getProductGrp:function(){var t=this;this.loginUser=JSON.parse(window.localStorage.getItem("loginUser")),"SM"==this.loginUser.Role&&(this.loginUser.SM="SM"),"M"==this.loginUser.Role&&(this.loginUser.M="M"),"SA"==this.loginUser.Role&&(this.loginUser.SA="SA");var e=null;e="M"==this.loginUser.Role?"productGroups/user/"+this.loginUser.UserID:"productGroups",i["c"](e).then(function(e){t.productGroupList=e.data})},getStores:function(){var t=this;this.loginUser=JSON.parse(window.localStorage.getItem("loginUser"));var e=null;e="M"==this.loginUser.Role?"user/store/get/"+this.loginUser.UserID:"store",i["c"](e).then(function(e){t.storesList=e.data})}},beforeMount:function(){this.getProductGrp(),this.getStores()}},c=n,u=o("2877"),d=Object(u["a"])(c,r,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-0f59cc1a.2115daaf.js.map